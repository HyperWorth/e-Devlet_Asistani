<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>VatandaÅŸ YÃ¶nlendirme AsistanÄ±</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <h2>ğŸ§­ VatandaÅŸ YÃ¶nlendirme AsistanÄ±</h2>
    <p style="text-align:center;">Herhangi bir kamu baÅŸvuru isteÄŸini yaz, Gemini sana yol gÃ¶stersin.</p>

    <form method="POST">
        <textarea name="user_input" rows="4" cols="60" placeholder="Ã–rn: 'Engelli maaÅŸÄ± baÅŸvurusu yapmak istiyorum'">{{ user_input }}</textarea><br><br>
        <button type="submit">YÃ¶nlendirme Al</button>
    </form>

    <div id="loadingText">Gemini analiz ediyor...</div>
    <div class="loader" id="loader"></div>

    {% if result %}
        <div class="result-box" id="resultBox">
            <h3>ğŸ“„ YÃ¶nlendirme Sonucu</h3>
            <div>{{ result | safe }}</div>
        </div>
    {% endif %}

    <script>
        const form = document.querySelector("form");
        const loader = document.getElementById("loader");
        const loadingText = document.getElementById("loadingText");
        const resultBox = document.getElementById("resultBox");

        form.addEventListener("submit", () => {
            if (resultBox) resultBox.style.display = "none";
            loader.style.display = "block";
            loadingText.style.display = "block";
        });
    </script>

</body>
</html>
